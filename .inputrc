set editing-mode vi
set show-mode-in-prompt on

# https://wiki.archlinux.org/title/Readline#Mode_indicator_in_prompt
$if term=linux
    set vi-ins-mode-string \1\e[?0c\2
    set vi-cmd-mode-string \1\e[?8c\2
$else
    set vi-ins-mode-string \1\e[5 q\2
    set vi-cmd-mode-string \1\e[1 q\2
$endif
